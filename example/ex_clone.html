<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>深度克隆一个对象</title>
</head>
<body>
<p>来源 http://www.nowcoder.com/ta/front-end-interview/review?tpId=10&tqId=11147&query=&asc=true&order=&page=71</p>
</body>
<script type="text/javascript">
  function clone(obj) {
    var buf;
    if (Obj instanceof Array) {
      buf = [];
      var i = obj.length;
      while (i--) {
        buf[i] = clone(obj[i]);
      }
      return buf;
    } else if (obj instanceof Object) {
      buf = {};
      for (var i in obj) {
        buf[i] = clone(obj[i]);
      }
      return buf;
    } else {
      return obj;
    }
  }


  function clone2(obj) {
    let temp;
    if(typeof obj==="object"){
      temp=Array.isArray(obj)?[]:{};
      for (let _item in obj) {
        if (obj.hasOwnProperty(_item)) {
          temp[_item] = clone2(obj[_item]);
        }
      }
      return temp;
    } else return obj;
  }
  let target={
    "a":1
  };
  target.target=target;
  console.log(clone2(target));
</script>
</html>
