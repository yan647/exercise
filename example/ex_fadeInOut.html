<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>JS淡入淡出效果</title>
	<style type="text/css">
		.bg{
			position:absolute;
			left: 0;
			top:0;
			width: 100%;
			height:100%;
			-webkit-transition:opacity 2s linear;
			-moz-transition:opacity 2s linear;
			-o-transition:opacity 2s linear;
			transition:opacity 2s linear;
			opacity:0;
			filter:alpha(opacity=0);
		}
		#bg1{
			background:url(../img/a.jpg) no-repeat;
			/* background-size: cover; */
		}
		#bg2{
			background:url(../img/b.JPG) no-repeat;
			/* background-size: cover; */
		}
		.fadein{
			opacity:100;
			filter:alpha(opacity=100);
		}
	</style>
</head>
<body>
<h1>JS的淡入淡出</h1>
<p>来源：https://segmentfault.com/a/1190000003067215</p>
	<div id="imgs">
		<div id="bg1" class="bg"></div>
		<div id="bg2" class="bg"></div>
	</div>
</body>
<script type="text/javascript">
	function fadeIn(e){
		e.className='bg fadein';
	}
	function fadeOut(e){
		e.className='bg';
	}
	cur_img=document.getElementById('imgs').children.length-1;
	function turnImgs(){
		var imgs=document.getElementById('imgs').children;
		if(cur_img==0){
			fadeOut(imgs[cur_img]);
			fadeIn(imgs[cur_img+1]);
			cur_img=imgs.length-1;console.log('1 '+cur_img);
		} else{
			fadeOut(imgs[cur_img]);
			fadeIn(imgs[cur_img-1]);
			cur_img--;console.log('2 '+cur_img);
		}
	}
	setInterval(turnImgs,3000);
</script>
</html>
