## 大模型学习笔记

### gpt相关参数
1. **Temperature**：用来控制生成文本的随机性。`temperature` 的参数值越小，模型就会返回越确定的一个结果。如果调高该参数值，
大语言模型可能会返回更随机的结果，也就是说这可能会带来更多样化或更具创造性的产出。在实际应用方面，对于质量保障（QA）等任务，
可以设置更低的`temperature`值，以促使模型基于事实返回更真实和简洁的结果。 对于诗歌生成或其他创造性任务，可以适当调高`temperature`参数值。
在具体操作中，模型会计算每个可能的下一个词的概率，然后根据这些概率来随机选择下一个词。Temperature参数会影响这个概率分布。
   1. 当Temperature接近0时，模型会更倾向于选择概率最高的词，这会导致生成的文本比较确定性，但可能缺乏多样性。
   2. 当Temperature接近1时，模型会更公平地考虑所有的词，这会导致生成的文本更具随机性和多样性，但可能会牺牲一些连贯性。

    所以，Temperature参数可以被看作是控制生成文本"创新性"和"确定性"之间平衡的一个工具。通过调整这个参数，我们可以得到不同风格的生成文本。

2. **Top_p（也被称为nucleus sampling或者top-p sampling）**：是一种采样技术。可以用来控制模型返回结果的真实性。如果你需要准确和真实的答案，就把参数值调低。如果你想要更多样化的答案，就把参数值调高一些。

    #### temperature与Top_p的区别
    Temperature和Top_p都是控制文本生成过程中随机性的参数，但它们的工作方式有所不同。
    
    Temperature（温度）参数主要影响模型生成每个可能词的概率分布。Temperature越高，生成的文本越随机和多样；Temperature越低，生成的文本越确定，但可能缺乏多样性。
    
    而Top_p（也被称为nucleus sampling或者top-p sampling）则是在每一步生成新的词时，模型会计算所有可能词的概率分布。
    然后，它会选择一个概率阈值p，只考虑概率之和大于p的最小词集，然后从这个词集中随机选择一个词作为新的词。
    
    总的来说，Temperature和Top_p都可以控制生成文本的随机性和多样性，但它们的具体方法和侧重点有所不同。
    Temperature更侧重于调整整体的概率分布，而Top_p则更侧重于限制可选词的范围。
    
    #### 什么是核采样
    **核采样（Nucleus Sampling）** 工作原理是这样的：在每一步生成新的词时，模型会计算所有可能词的概率分布。然后，它会选择一个概率阈值p（0<p<1），并只考虑概率之和大于p的最小词集。然后，从这个词集中随机选择一个词作为新的词。这个词集就是所谓的"核"。
    
    这种方法的优点是，它可以在生成多样性和连贯性之间找到一个好的平衡。通过调整阈值p，我们可以控制生成文本的多样性。如果p较大，那么生成的文本会更多样，但可能会较少连贯。如果p较小，那么生成的文本会更连贯，但可能会较少多样。

3. Top_k：这是一种叫做"Top-k sampling"的方法。在每一步生成新的词时，模型会计算所有可能词的概率分布。然后，它只考虑概率最高的k个词，然后从这k个词中随机选择一个词作为新的词。这种方法可以防止模型生成一些概率极低的词，从而提高生成文本的质量。

4. Length_penalty：这是一种用于控制生成文本长度的参数。在一些应用中，我们可能希望生成的文本长度能够接近一个特定的值。通过调整Length_penalty参数，我们可以鼓励模型生成更长或者更短的文本。

5. Repetition_penalty：这是一种用于防止生成重复文本的参数。在一些情况下，模型可能会反复生成同样的词或者短语。通过调整Repetition_penalty参数，我们可以降低这种重复的可能性。

### 提示词格式

**零样本提示（zero-shot prompting）**：即用户不提供任务结果相关的示范，直接提示语言模型给出任务相关的回答。某些大型语言模式有能力实现零样本提示，但这也取决于任务的复杂度和已有的知识范围。

**小样本提示（Few-shot Prompting）**：目前业界普遍使用的还是更高效的_小样本提示（Few-shot Prompting）_范式，即用户提供少量的提示范例，如任务说明等。语言模型可以基于一些说明了解和学习某些任务，而小样本提示正好可以赋能上下文学习能力。


### 提示技术

TODO

### 参考
1. [Google生成式AI科普教程](https://www.cloudskillsboost.google/journeys/118) 
2. [prompt工程指南](https://www.promptingguide.ai/zh)  
3. https://km.sankuai.com/page/1607779952
4. https://help.openai.com/en/articles/6654000-best-practices-for-prompt-engineering-with-openai-api
5. https://learnprompting.org/zh-Hans/docs/intro
