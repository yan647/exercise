<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    //循环链表检测
    var getRepeat = function (str) {
        let arr = str.split("").sort();
        for (let a = 0; a < arr.length - 1; a++) {
            if (arr[a] === arr[a + 1]) {
                return arr[a];
            } else if (a === arr.length - 2) {
                return "0"
            }
        }
    };
    // console.log(getRepeat("ABCDEFGC"));

    //清一色
    let getAllResult = function (arr) {
        let temp = JSON.parse(JSON.stringify(arr));
        if (arr.length === 2) {
            if (arr[0] === arr[1]) {
                return "yes";
            } else return "no";
        } else {
            for (let a = 0; a < arr.length - 2; a++) {
                if (arr[a] === arr[a + 1] && arr[a + 1] === arr[a + 2]) {
                    temp.splice(temp.indexOf(arr[a]), 3);
                    return getAllResult(temp);
                }
                if (arr.length === 5 && arr[a] === arr[a + 1]) {
                    a++;
                    continue;
                }
                let item = temp[a];
                let x = [parseInt(item), parseInt(item), parseInt(item)],
                    y = [parseInt(item) + 1, parseInt(item) - 1, parseInt(item) - 1],
                    z = [parseInt(item) + 2, parseInt(item) + 1, parseInt(item) - 2];
                temp = temp.map(function (data) {
                    return parseInt(data);
                });
                for (let m = 0; m < 3; m++) {
                    let x_ = temp.indexOf(x[m]), y_ = temp.indexOf(y[m]), z_ = temp.indexOf(z[m]);
                    if (x_ >= 0 && y_ >= 0 && z_ >= 0) {
                        temp.splice(temp.indexOf(x[m]), 1);
                        temp.splice(temp.indexOf(y[m]), 1);
                        temp.splice(temp.indexOf(z[m]), 1);
                        return getAllResult(temp);
                    }
                }
            }
        }
    };
    var getAll = function (str) {
        let arr = str.split("");
        return getAllResult(arr);

    };
    //console.log(getAll("11"));

    //打印任务排序
    var printOrder = function (arr) {
        let temp=arr.map((data,index)=>{
            return {
                data:data,
                index:index,
                printNum:0
            }
        });
        for(let a=0;a<temp.length;a++){
            for(let b=a+1;b<temp.length;b++){
                if(temp[a].data<temp[b].data){
                    temp.push(temp[a]);
                    temp.splice(a,1);
                    b=a;
                }
            }
            temp[a].printNum=a;
        }

        return temp.sort((a,b)=>{
            return a.index-b.index;
        }).map((data)=>{
            return data.printNum;
        });
    };
    console.log(printOrder([9, 3, 3, 5, 3, 5, 7]));
    console.log(printOrder([9, 3, 5]));
    console.log(printOrder([1]));
    console.log(printOrder([0]));

    //七进制加法
    var getSum = function (a, b) {
        let result = [];
        let c = 0;
        for (let m = 0; m < b.length; m++) {
            let sum = parseInt(a[m]) + parseInt(b[m]) + c;
            if (sum >= 7) {
                c = 1;
                result.unshift(sum - 7);
            } else result.unshift(sum);
        }
        if (a.length !== b.length) {
            let last = parseInt(a[a.length - 1]) + c;
            if (last >= 7) {
                result.unshift(last - 7);
                result.unshift(1);
            } else result.unshift(last);

        }
        return result.join("");
    };
    var sevenNum = function (str) {
        let temp = str.split(" ");
        let a = temp[0].split("").reverse();
        let b = temp[1].split("").reverse();
        let result = [];
        if (a.length >= b.length) {
            result = getSum(a, b);
        } else if (a.length < b.length) {
            result = getSum(b, a);
        }
        return result;
    };
    //console.log(sevenNum("652 35"));

    var sevenNum2 = function (str) {
        let temp = str.split(" ");
        return (parseInt(temp[0], 7) + parseInt(temp[1], 7)).toString(7);
    };
    //console.log(sevenNum2("652 35"));

    //集五福
    var getFiveFu = function (arr) {
        let result = new Array(5).fill(0);
        for (let a = 0; a < arr.length; a++) {
            for (let b = 0; b < 5; b++) {
                arr[a][b] === "1" && (result[b]++);
            }
        }
        result.sort((a, b) => {
            return a - b;
        });
        return (result[0]);
        return parseInt(arr.join("").split("").filter((data) => {
            return data == 1;
        }).length / 5);
    };
    //console.log(getFiveFu(["11010"]));

    //消除重复数字
    var delRepeat = function (input) {
        let arr = input.split("");
        arr = arr.map(function (data) {
            return parseInt(data);
        });
        for (let a = 0; a < arr.length; a++) {
            for (let b = a + 1; b < arr.length; b++) {
                if (arr[a] === arr[b]) {
                    if (a > b) {
                        arr.splice(a, 1);
                        a--;
                    } else {
                        arr.splice(b, 1);
                        b--;
                    }

                }
            }
        }
        return arr;
    };
    //console.log(delRepeat("423234"));

    //掷骰子
    var dice = function (input) {
        let result = input.split("");
        let l = 1, r = 2, f = 3, b = 4, u = 5, d = 6;
        for (let a = 0; a < result.length; a++) {
            let temp;
            switch (result[a]) {
                case "L"://左
                    temp = l;
                    l = u;
                    u = r;
                    r = d;
                    d = temp;
                    break;
                case "R"://右
                    temp = r;
                    r = u;
                    u = l;
                    l = d;
                    d = temp;
                    break;
                case "F"://前
                    temp = f;
                    f = u;
                    u = b;
                    b = d;
                    d = temp;
                    break;
                case "B"://后
                    temp = b;
                    b = u;
                    u = f;
                    f = d;
                    d = temp;
                    break;
                case "A"://逆
                    temp = f;
                    f = l;
                    l = b;
                    b = r;
                    r = temp;
                    break;
                case "C"://顺
                    temp = f;
                    f = r;
                    r = b;
                    b = l;
                    l = temp;
            }
        }
        return [l, r, f, b, u, d].join("");
    };
    //console.log(dice("RA"));

    //字母计数法
    var convertTo26 = function (input) {
        let result = 0;
        let charts = input.split("").reverse();
        for (let a = 0; a < charts.length; a++) {
            let temp = charts[a].charCodeAt() - 96;
            result = result + temp * Math.pow(26, a);
        }
        return result;
    };
    //console.log(convertTo26("ab"));

    //找字符串中出现次数最多的字符
    var findMoreTime = function (input) {
        let type = input.split(" ")[1];
        let str = input.split(" ")[0];

        if (type === "false") {
            str = str.toLowerCase();
        }
        str = str.split("");
        let result = {};
        str.sort().map((data) => {
            result[data] ? (result[data]++) : (result[data] = 1);
        });
        let temp = [0, 0];
        for (let a in result) {
            if (result[a] > temp[1]) {
                temp[0] = a;
                temp[1] = result[a];
            }
        }
        return temp.join(" ");
    };
    //console.log(findMoreTime("abcdABCdE false"));

    //找出字符串中第一个只出现一次的字符
    var findOnlyOnceStr = function (input) {
        let str = input.split(" ")[0];
        let type = input.split(" ")[1];
        if (type === "false") {
            str = str.toLowerCase();
        }
        let result;
        return result;
    };
    //console.log(findOnlyOnceStr("abcdEfgABCD true"));

    //一种字符串压缩表示的解压
    var unzip = function (str) {
        let result = "";
        for (let a = 0; a < str.length; a++) {
            let temp = str.charAt(a);
            if (Number(temp) > 2) {
                result = result + new Array(Number(temp)).fill(str.charAt(a + 1)).join("");
                a++;
            } else if (Number(temp) != 0 && Number(temp) != 1) {
                result = result + temp;
            } else return "!error"
        }
        return result;
    };
    //console.log(unzip("3abb4cd"));

    //数据分类  todo
    var numClassify = function (str) {
        let a = str.split("、");
        let c = a.shift();
        let b = a.shift();
        let result = 0;
        a.map((data) => {
            data.toString(2) % b < c && result++;
        });
        return result;
    };
    //https://www.nowcoder.com/discuss/62516?type=0&order=0&pos=23&page=1
    //console.log(numClassify("5、2、1、2、3、4、5、6、7、8、9、10"));

    //简单运算式计算
    var calculate = function (str) {
        let nums = str.split(/[\+]+|[\-]+|[\*]+/);
        nums = nums.map((data) => {
            return parseInt(data);
        });
        let operators = str.split(/\d+/);
        operators.shift();
        operators.pop();
        let result = operators[0] !== "*" ? nums[0] : 0;
        for (let a = 0; a < operators.length; a++) {
            switch (operators[a]) {
                case "+":
                    if (operators[a + 1] !== "*") {
                        result = result + nums[a + 1];
                    } else {
                        result = result + nums[a + 1] * nums[a + 2];
                        a++;
                    }
                    break;
                case "-":
                    if (operators[a + 1] !== "*") {
                        result = result - nums[a + 1];
                    } else {
                        result = result - nums[a + 1] * nums[a + 2];
                        a++;
                    }
                    break;
            }
        }
        return result;
    };
    //console.log(calculate("200+1-2*3"));

    //德州扑克
    var poker = function (str) {
        str = str.replace(/J|Q|K|A/g, function (v) {
            switch (v) {
                case "J":
                    return 11;
                case "Q":
                    return 12;
                case "K":
                    return 13;
                case "A":
                    return 1;
            }
        });
        let arr = str.split(" ");
        arr.sort((a, b) => {
            return a.split("")[0] - b.split("")[0];
        });
        let nums = arr.map((data) => {
            return parseInt(data.split("")[0]);
        });
        let flowers = arr.map((data) => {
            return data.split("")[1];
        });
        let e1 = nums[0] == nums[1] && nums[1] == nums[2];
        let e2 = nums[1] == nums[2] && nums[2] == nums[3];
        let e3 = nums[2] == nums[3] && nums[3] == nums[4];
        let t6 = e1 || e2 || e3; //三条6
        if (t6) {
            let t3;
            if (e1) {
                t3 = t6 && nums[3] == nums[4];//葫芦3
            } else if (e2) {
                t3 = t6 && nums[0] == nums[4];
            } else if (e3) {
                t3 = t6 && nums[0] == nums[1];
            }
            if (t3) {
                return 3;
            } else {
                if (e1) {
                    if (nums[0] == nums[3] || nums[0] == nums[4]) {
                        return 2;
                    }
                } else if (e2) {
                    if (nums[0] == nums[1] || nums[1] == nums[4]) {
                        return 2;
                    }
                } else if (e3) {
                    if (nums[0] == nums[2] || nums[1] == nums[2]) {
                        return 2;
                    }
                } else return 6;
            }
        }
        let t4 = (flowers[0] == flowers[1] == flowers[2] == flowers[3] == flowers[4])//同花4
        let t5 = (nums[1] - nums[0] == nums[2] - nums[1] == nums[3] - nums[2] == nums[4] - nums[3])//顺子5
        let t1 = t4 && t5;//同花顺1
        if (t1) {
            return 1;
        } else if (t4) {
            return 4;
        } else if (t5) {
            return 5;
        } else return 7;

    };
    //console.log(poker("AH 2C 2S 2S AS"));

    //单词排序输出
    var wordSort = function (str) {
        let arr = str.split(" ");
        let compare = function (a, b, i) {
            if (a.charAt(i) && b.charAt(i) && a.charAt(i) === b.charAt(i)) {
                return compare(a, b, i + 1);
            } else return a.charAt(i).charCodeAt() - b.charAt(i).charCodeAt();
        };
        arr.sort((a, b) => {
            a = a.toUpperCase();
            b = b.toUpperCase();
            return compare(a, b, 0);
        });
        arr = arr.filter((data, index) => {
            return arr[index + 1] ? (data.toUpperCase() !== arr[index + 1].toUpperCase()) : data.toUpperCase();
        });
        return arr;
    };
    //console.log(wordSort("Hello hello word"));

    //文本逐字反转
    var reverseWord = function (str) {
        let arr = str.split(" ");
        arr = arr.filter((data) => {
            return data !== "";
        });
        return arr.reverse().join(" ");
    };
    //console.log(reverseWord(" the sky  is blue "));

    //数字排列
    var numSort = function (str) {
        let arr = str.split(",").sort();
        arr = arr.map((data) => {
            return parseInt(data);
        });
        let n = arr[2];
        let temp = JSON.parse(JSON.stringify(arr));
        arr = arr.map((data) => {
            return data.toString();
        });
        let add3 = function (a, b, c) {
            temp.push(a + b);
            temp.push(a + c);
            temp.push(b + a);
            temp.push(b + c);
            temp.push(c + a);
            temp.push(c + b);
        };
        let add25 = function (a, b, c) {
            add3(a, b, c);
            if (a === 5 || a === 2) add3(7 - a, b, c);
            if (b === 5 || b === 2) add3(a, 7 - b, c);
            if (c === 5 || c === 2) add3(a, b, 7 - c);
        };
        let add69 = function (a, b, c) {
            add25(a, b, c);
            if (a === 6 || a === 9) add3(15 - a, b, c);
            if (b === 6 || b === 9) add3(a, 15 - b, c);
            if (c === 6 || c === 9) add3(a, b, 15 - c);
        };
        add69(arr[0], arr[1], arr[2]);
        temp = temp.map((data) => {
            return parseInt(data);
        });
        temp.sort((a, b) => {
            return a - b;
        });
        return temp[n - 1];
    };
    //console.log(numSort("1,4,8"));

    //电报翻译
    var telegraph = function (str) {
        let arr = str.split("#");
        let map = [
            "F", "G", "R", "S", "T",//0--4
            "L", "M", "N", "O", "P",//5--9
            "Q", "W", "X", "Y", "Z",//10--14
            "U", "A", "G", "H", "I",//15--19
            "J", "K", "B", "C", "D",//20-24
            "E", "l", "m", "n", "o",//25-29
            "p", "i", "j", "k", "f",
            "g", "h", "a", "b", "c",
            "d", "e", "q", "r", "w",
            "x", "y", "z", "s", "t",
            "u", "v"];
        let result = "";
        arr = arr.map((data) => {
            data = data.replace(/-|./g, function (v) {
                if (v == "-") {
                    return 0;
                } else if (v == ".") {
                    return 1;
                }
            });
            data = parseInt(data, 2);
            if (data > 51) {
                result = "ERROR";
            }
            return map[data];
        });
        result = (result === "ERROR" ? result : arr.join(""));
        return result;
    };
    //console.log(telegraph("--.#.#-.-"));

    //仿LISP翻译
    var LISP = function (str) {
        str = str.split("");
        let op = [], num = [];
        for (let a = 0; a < str.length; a++) {
            if (str[a] === "(") {
                op.push(str[a + 1] + str[a + 2] + str[a + 3]);
                a = a + 4;
            } else if (str[a] === ")") {
                let op_item = op.pop();
                let num1 = num.pop();
                let num2 = num.pop();
                let temp;
                switch (op_item) {
                    case "add":
                        temp = num1 + num2;
                        break;
                    case "sub":
                        temp = num2 - num1;
                        break;
                    case "mul":
                        temp = num1 * num2;
                        break;
                    case "div":
                        if (num1 == 0 || num1 == "error") {
                            return "error";
                        } else temp = num2 / num1;
                        break;
                }
                temp && num.push(temp);
            } else if (/\d|-/.test(str[a])) {
                let b = a;
                while (/\d|-/.test(str[a + 1])) {
                    a++;
                }
                let temp = JSON.parse(JSON.stringify(str));
                num.push(temp.splice(b, a - b + 1).join(""));
            }
        }
        return num[0];
    };
    //console.log(LISP("(div 1 0)"));
    //console.log(LISP("(sub (mul 2 4) (div 9 3))"));

</script>
</body>
</html>
